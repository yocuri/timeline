import{f as O,a as R}from"../chunks/Xm-dkYwe.js";import{i as re}from"../chunks/GGgSknIT.js";import{o as ae}from"../chunks/ByAN4lTx.js";import{b as ne,h as C,a as fe,x,y as ie,r as le,H as te,s as U,c as X,d as z,m as k,C as se,z as oe,A as q,f as ue,k as G,B as b,l as V,o as ve,D as J,F as W,G as B,I as ce,J as de,K as pe,M as he,i as Z,p as $,O as F,P as ge,Q as _e,j as me,R as Ee,S as M,T as xe,U as Te,V as we,W as D,X as H,Y as be,Z as K}from"../chunks/DOMSFqr5.js";import{s as L}from"../chunks/BvuHq7ji.js";import{i as P}from"../chunks/C9ZZjqoP.js";import{s as Ae}from"../chunks/otr81BBH.js";function Ie(e,i){return i}function Ne(e,i,f){for(var d=[],h=i.length,u,s=i.length,a=0;a<h;a++){let o=i[a];$(o,()=>{if(u){if(u.pending.delete(o),u.done.add(o),u.pending.size===0){var g=e.outrogroups;Y(B(u.done)),g.delete(u),g.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var n=d.length===0&&f!==null;if(n){var l=f,t=l.parentNode;_e(t),t.append(l),e.items.clear()}Y(i,!n)}else u={pending:new Set(i),done:new Set},(e.outrogroups??=new Set).add(u)}function Y(e,i=!0){for(var f=0;f<e.length;f++)me(e[f],i)}var Q;function Se(e,i,f,d,h,u=null){var s=e,a=new Map;C&&fe();var n=null,l=ie(()=>{var v=f();return ce(v)?v:v==null?[]:B(v)}),t,o=!0;function g(){r.fallback=n,Ce(r,t,s,i,d),n!==null&&(t.length===0?(n.f&b)===0?Z(n):(n.f^=b,y(n,null,s)):$(n,()=>{n=null}))}var A=ne(()=>{t=x(l);var v=t.length;let E=!1;if(C){var T=le(s)===te;T!==(v===0)&&(s=U(),X(s),z(!1),E=!0)}for(var c=new Set,m=ue,I=ve(),_=0;_<v;_+=1){C&&k.nodeType===se&&k.data===oe&&(s=k,E=!0,z(!1));var S=t[_],N=d(S,_),p=o?null:a.get(N);p?(p.v&&q(p.v,S),p.i&&q(p.i,_),I&&m.skipped_effects.delete(p.e)):(p=Me(a,o?s:Q??=G(),S,N,_,h,i,f),o||(p.e.f|=b),a.set(N,p)),c.add(N)}if(v===0&&u&&!n&&(o?n=V(()=>u(s)):(n=V(()=>u(Q??=G())),n.f|=b)),C&&v>0&&X(U()),!o)if(I){for(const[j,ee]of a)c.has(j)||m.skipped_effects.add(ee.e);m.oncommit(g),m.ondiscard(()=>{})}else g();E&&z(!0),x(l)}),r={effect:A,items:a,outrogroups:null,fallback:n};o=!1,C&&(s=k)}function Ce(e,i,f,d,h){var u=i.length,s=e.items,a=e.effect.first,n,l=null,t=[],o=[],g,A,r,v;for(v=0;v<u;v+=1){if(g=i[v],A=h(g,v),r=s.get(A).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&b)!==0)if(r.f^=b,r===a)y(r,null,f);else{var E=l?l.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),w(e,l,r),w(e,r,E),y(r,E,f),l=r,t=[],o=[],a=l.next;continue}if((r.f&F)!==0&&Z(r),r!==a){if(n!==void 0&&n.has(r)){if(t.length<o.length){var T=o[0],c;l=T.prev;var m=t[0],I=t[t.length-1];for(c=0;c<t.length;c+=1)y(t[c],T,f);for(c=0;c<o.length;c+=1)n.delete(o[c]);w(e,m.prev,I.next),w(e,l,m),w(e,I,T),a=T,l=I,v-=1,t=[],o=[]}else n.delete(r),y(r,a,f),w(e,r.prev,r.next),w(e,r,l===null?e.effect.first:l.next),w(e,l,r),l=r;continue}for(t=[],o=[];a!==null&&a!==r;)(n??=new Set).add(a),o.push(a),a=a.next;if(a===null)continue}(r.f&b)===0&&t.push(r),l=r,a=r.next}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(Y(B(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||n!==void 0){var _=[];if(n!==void 0)for(r of n)(r.f&F)===0&&_.push(r);for(;a!==null;)(a.f&F)===0&&a!==e.fallback&&_.push(a),a=a.next;var S=_.length;if(S>0){var N=null;Ne(e,_,N)}}}function Me(e,i,f,d,h,u,s,a){var n=(s&de)!==0?(s&pe)===0?W(f,!1,!1):J(f):null,l=(s&he)!==0?J(h):null;return{v:n,i:l,e:V(()=>(u(i,n??f,l??h,a),()=>{e.delete(d)}))}}function y(e,i,f){if(e.nodes)for(var d=e.nodes.start,h=e.nodes.end,u=i&&(i.f&b)===0?i.nodes.start:f;d!==null;){var s=ge(d);if(u.before(d),d===h)return;d=s}}function w(e,i,f){i===null?e.effect.first=f:i.next=f,f===null?e.effect.last=i:f.prev=i}var ye=O("<p>No posts yetâ€¦ but soon ðŸ˜Œ</p>"),Re=O('<img alt="post image" style="max-width: 300px;"/>'),ke=O("<article><h2> </h2> <p> </p> <!> <small> </small> <hr/></article>"),De=O("<h1>Laurenâ€™s Timeline</h1> <!> <!>",1);function Be(e,i){Ee(i,!1);let f=W([]);ae(async()=>{const a=await fetch("/api/posts");we(f,await a.json())}),re();var d=De(),h=M(xe(d),2);{var u=a=>{var n=ye();R(a,n)};P(h,a=>{x(f).length===0&&a(u)})}var s=M(h,2);Se(s,1,()=>x(f),Ie,(a,n)=>{var l=ke(),t=D(l),o=D(t,!0);H(t);var g=M(t,2),A=D(g,!0);H(g);var r=M(g,2);{var v=c=>{var m=Re();K(()=>Ae(m,"src",x(n).image_url)),R(c,m)};P(r,c=>{x(n).image_url&&c(v)})}var E=M(r,2),T=D(E,!0);H(E),be(2),H(l),K(c=>{L(o,x(n).title),L(A,x(n).body),L(T,c)},[()=>new Date(x(n).created_at).toLocaleString()]),R(a,l)}),R(e,d),Te()}export{Be as component};
